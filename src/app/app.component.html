<div class="left-side">
  <svg id="canvas" #canvas>
  </svg>

  <div class="buttons-container">
    <button class="download-button" (click)="downloadSvg()">Descargar svg</button>
    <button class="download-button" (click)="downloadPng()">Descargar png</button>
  </div>
</div>

<form class="right-side">
  <div class="canvas-config-options">
    <label>
      <span>FONDO</span>
      <input type="file" (change)="onUpdateBackgroundImage($event)">
      <div class="mock-input-file">{{backgroundImageFile?.name ?? 'Selecciona un fondo'}}</div>
    </label>

    <label>
      <span>TAMAÃ‘O LIENZO</span>
      <div>
        <input type="number" min="1" id="canvas-width-input" name="canvas-width" [(ngModel)]="canvasWidth"
          (ngModelChange)="onChangeCanvasSize()">
        :
        <input type="number" min="1" id="canvas-height-input" name="canvas-height" [(ngModel)]="canvasHeight"
          (ngModelChange)="onChangeCanvasSize()">
      </div>
    </label>
  </div>

  <label>
    <span>FIGURAS</span>

    <div class="shapes-radio-buttons-container">
      <label>
        <input type="radio" name="shape" [value]="Shape.RECT" [(ngModel)]="selectedShape"
          (ngModelChange)="onChangeShape()">
        <span>rect</span>
      </label>

      <label>
        <input type="radio" name="shape" [value]="Shape.LINE" [(ngModel)]="selectedShape"
          (ngModelChange)="onChangeShape()">
        <span>line</span>
      </label>

      <label>
        <input type="radio" name="shape" [value]="Shape.PATH" [(ngModel)]="selectedShape"
          (ngModelChange)="onChangeShape()">
        <span>path</span>
      </label>

      <label>
        <input type="radio" name="shape" [value]="Shape.CIRCLE" [(ngModel)]="selectedShape"
          (ngModelChange)="onChangeShape()">
        <span>circle</span>
      </label>

      <label>
        <input type="radio" name="shape" [value]="Shape.TEXT" [(ngModel)]="selectedShape"
          (ngModelChange)="onChangeShape()">
        <span>text</span>
      </label>

      <label>
        <input type="radio" name="shape" [value]="Shape.CUBIC_BEZIER" [(ngModel)]="selectedShape"
          (ngModelChange)="onChangeShape()">
        <span>cubic bezier</span>
      </label>
    </div>
  </label>

  <form class="common-shape-options" [formGroup]="shapePainter.options">
    <label>
      <span>STROKE WIDTH</span>
      <input type="number" min="0" formControlName="strokeWidth">
    </label>

    <label>
      <span>STROKE</span>
      <input type="color" formControlName="stroke">
      <div class="mock-input-color" [style]="{backgroundColor: shapePainter.options.controls['stroke'].value}"></div>
    </label>

    <label>
      <span>FILL</span>
      <input type="color" formControlName="fill">
      <div class="mock-input-color" [style]="{backgroundColor: shapePainter.options.controls['fill'].value}"></div>
    </label>
  </form>

  <div class="shape-list">
    <app-collapsible *ngFor="let shapePainter of shapeList" class="shape-collapsible"
      [class.selected]="shapePainter.isShapeSelected()">

      <div appCollapsibleToggleAction (click)="selectShapePainter(shapePainter)" class="invoker"
        [class.selected]="shapePainter.isShapeSelected()">
        {{shapePainter.name}}
      </div>

      <form appCollapsibleContent [formGroup]="shapePainter.options">
        <ng-container [ngSwitch]="shapePainter.shape">
          <div class="shape-options" *ngSwitchCase="Shape.RECT">
            <label>
              <span>X</span>
              <input type="number" formControlName="x">
            </label>

            <label>
              <span>Y</span>
              <input type="number" formControlName="y">
            </label>

            <label>
              <span>WIDTH</span>
              <input type="number" min="0" formControlName="width">
            </label>

            <label>
              <span>HEIGHT</span>
              <input type="number" min="0" formControlName="height">
            </label>

            <label>
              <span>RX</span>
              <input type="number" min="0" formControlName="roundCornerX">
            </label>

            <label>
              <span>RY</span>
              <input type="number" min="0" formControlName="roundCornerY">
            </label>

            <label>
              <span>NOMBRE</span>
              <input type="text" formControlName="name">
            </label>
          </div>

          <div *ngSwitchCase="Shape.LINE" class="shape-options">
            <label>
              <span>X1</span>
              <input type="number" formControlName="x1"></label>

            <label>
              <span>Y1</span>
              <input type="number" formControlName="y1"></label>

            <label>
              <span>X2</span>
              <input type="number" formControlName="x2"></label>

            <label>
              <span>Y2</span>
              <input type="number" formControlName="y2"></label>
          </div>
        </ng-container>
      </form>
    </app-collapsible>
  </div>
</form>