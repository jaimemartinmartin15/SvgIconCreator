<div class="panels-list">
  <app-shapes-panel (onSelectShape)="onChangeShapeToDraw($event)"
    [pathCommand]="shapePainter && shapePainter.isShapeType(Shape.PATH) && shapePainter.currentCommand || ''">
  </app-shapes-panel>

  <app-options-panel *ngIf="shapePainter" [shapePainter]="shapePainter"></app-options-panel>

  <app-background-panel></app-background-panel>

  <app-size-panel></app-size-panel>

  <app-export-panel [shapeList]="shapeList"></app-export-panel>

  <app-import-panel [shapeList]="shapeList"></app-import-panel>
</div>

<div class="canvas-container">
  <svg id="canvas" appElementRef="canvas" viewBox="0 0 100 100"></svg>
</div>

<div class="shape-list" cdkDropList (cdkDropListDropped)="onReorderingShapes($event)">
  <ng-container *ngFor="let shapePainter of shapeList">
    <app-rect-form cdkDrag cdkDragPreviewContainer="parent" (onShapeDelete)="deleteShape($event)"
      (onShapeSelected)="selectShapePainter($event)" [rectPainter]="shapePainter"
      *ngIf="shapePainter.isShapeType(Shape.RECT)">
      <div *cdkDragPlaceholder></div>
    </app-rect-form>

    <app-circle-form cdkDrag cdkDragPreviewContainer="parent" (onShapeDelete)="deleteShape($event)"
      (onShapeSelected)="selectShapePainter($event)" [circlePainter]="shapePainter"
      *ngIf="shapePainter.isShapeType(Shape.CIRCLE)">
      <div *cdkDragPlaceholder></div>
    </app-circle-form>

    <app-line-form cdkDrag cdkDragPreviewContainer="parent" (onShapeDelete)="deleteShape($event)"
      (onShapeSelected)="selectShapePainter($event)" [linePainter]="shapePainter"
      *ngIf="shapePainter.isShapeType(Shape.LINE)">
      <div *cdkDragPlaceholder></div>
    </app-line-form>

    <app-path-form cdkDrag cdkDragPreviewContainer="parent" (onShapeDelete)="deleteShape($event)"
      (onShapeSelected)="selectShapePainter($event)" [pathPainter]="shapePainter"
      *ngIf="shapePainter.isShapeType(Shape.PATH)">
      <div *cdkDragPlaceholder></div>
    </app-path-form>

    <app-text-form cdkDrag cdkDragPreviewContainer="parent" (onShapeDelete)="deleteShape($event)"
      (onShapeSelected)="selectShapePainter($event)" [textPainter]="shapePainter"
      *ngIf="shapePainter.isShapeType(Shape.TEXT)">
      <div *cdkDragPlaceholder></div>
    </app-text-form>
  </ng-container>
</div>